{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "agentic-plan-card",
  "type": "registry:ui",
  "title": "Plan Card",
  "description": "AI 실행 계획 표시/승인 카드 컴포넌트",
  "dependencies": [],
  "registryDependencies": [
    "@axis/agentic-step-timeline",
    "@axis/agentic-approval-card"
  ],
  "files": [
    {
      "path": "components/agentic/plan-card.tsx",
      "type": "registry:ui",
      "content": "import * as React from \"react\";\nimport { cn } from \"@axis-ds/ui-react\";\nimport { PLAN_STATUS_LABELS, STATUS_LABELS } from \"../constants/a11y-labels\";\n\nexport type PlanStatus = \"draft\" | \"pending\" | \"approved\" | \"rejected\" | \"executing\" | \"completed\";\nexport type PlanStepStatus = \"pending\" | \"running\" | \"complete\" | \"error\" | \"skipped\";\n\nexport interface PlanStep {\n  id: string;\n  label: string;\n  status: PlanStepStatus;\n  description?: string;\n}\n\nexport interface PlanCardProps {\n  /** 계획 제목 */\n  title: string;\n  /** 단계 목록 */\n  steps: PlanStep[];\n  /** 계획 상태 */\n  status?: PlanStatus;\n  /** 승인 콜백 */\n  onApprove?: () => void;\n  /** 수정 콜백 */\n  onEdit?: () => void;\n  /** 거절 콜백 */\n  onReject?: () => void;\n  /** 추가 클래스 */\n  className?: string;\n}\n\nconst planStatusStyles: Record<PlanStatus, { border: string; badge: string }> = {\n  draft: {\n    border: \"border-l-[var(--axis-color-gray-400)]\",\n    badge: \"bg-[var(--axis-color-gray-100)] text-[var(--axis-color-gray-600)]\",\n  },\n  pending: {\n    border: \"border-l-[var(--axis-color-yellow-500)]\",\n    badge: \"bg-[var(--axis-color-yellow-500)]/10 text-[var(--axis-color-yellow-600)]\",\n  },\n  approved: {\n    border: \"border-l-[var(--axis-color-green-500)]\",\n    badge: \"bg-[var(--axis-color-green-500)]/10 text-[var(--axis-color-green-600)]\",\n  },\n  rejected: {\n    border: \"border-l-[var(--axis-color-red-500)]\",\n    badge: \"bg-[var(--axis-color-red-500)]/10 text-[var(--axis-color-red-600)]\",\n  },\n  executing: {\n    border: \"border-l-[var(--axis-color-blue-500)]\",\n    badge: \"bg-[var(--axis-color-blue-500)]/10 text-[var(--axis-color-blue-600)]\",\n  },\n  completed: {\n    border: \"border-l-[var(--axis-color-green-500)]\",\n    badge: \"bg-[var(--axis-color-green-500)]/10 text-[var(--axis-color-green-600)]\",\n  },\n};\n\nconst stepStatusIcons: Record<PlanStepStatus, React.ReactNode> = {\n  pending: (\n    <svg className=\"w-4 h-4 text-[var(--axis-color-gray-400)]\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n      <circle cx=\"12\" cy=\"12\" r=\"10\" strokeWidth={2} />\n    </svg>\n  ),\n  running: (\n    <svg className=\"w-4 h-4 text-[var(--axis-color-blue-500)] animate-spin\" viewBox=\"0 0 24 24\" fill=\"none\">\n      <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" />\n      <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z\" />\n    </svg>\n  ),\n  complete: (\n    <svg className=\"w-4 h-4 text-[var(--axis-color-green-500)]\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n    </svg>\n  ),\n  error: (\n    <svg className=\"w-4 h-4 text-[var(--axis-color-red-500)]\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n    </svg>\n  ),\n  skipped: (\n    <svg className=\"w-4 h-4 text-[var(--axis-color-gray-400)]\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 5l7 7-7 7M5 5l7 7-7 7\" />\n    </svg>\n  ),\n};\n\n/**\n * AI 실행 계획을 표시하고 승인/거절하는 카드 컴포넌트\n */\nexport function PlanCard({\n  title,\n  steps,\n  status = \"pending\",\n  onApprove,\n  onEdit,\n  onReject,\n  className,\n}: PlanCardProps) {\n  const styles = planStatusStyles[status];\n  const titleId = React.useId();\n  const statusLabel = PLAN_STATUS_LABELS[status];\n  const completedCount = steps.filter((s) => s.status === \"complete\").length;\n\n  return (\n    <div\n      role=\"region\"\n      aria-labelledby={titleId}\n      className={cn(\n        \"rounded-lg border border-l-4 overflow-hidden\",\n        \"bg-[var(--axis-surface-default)] border-[var(--axis-border-default)]\",\n        styles.border,\n        className\n      )}\n    >\n      {/* 헤더 */}\n      <div className=\"p-4\">\n        <div className=\"flex items-center justify-between mb-2\">\n          <div className=\"flex items-center gap-2\">\n            <svg className=\"w-4 h-4 text-[var(--axis-icon-secondary)]\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\" />\n            </svg>\n            <h4 id={titleId} className=\"text-sm font-semibold text-[var(--axis-text-primary)]\">\n              {title}\n            </h4>\n          </div>\n          <span className={cn(\"text-xs px-2 py-0.5 rounded-full font-medium\", styles.badge)}>\n            {statusLabel}\n          </span>\n        </div>\n\n        {/* 진행률 */}\n        <div className=\"flex items-center gap-2 text-xs text-[var(--axis-text-tertiary)]\">\n          <span>{completedCount}/{steps.length} 단계</span>\n          {steps.length > 0 && (\n            <div className=\"flex-1 h-1 rounded-full bg-[var(--axis-surface-secondary)] overflow-hidden\">\n              <div\n                className=\"h-full rounded-full bg-[var(--axis-color-green-500)] transition-all\"\n                style={{ width: `${(completedCount / steps.length) * 100}%` }}\n                aria-hidden=\"true\"\n              />\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* 단계 목록 */}\n      <div role=\"list\" aria-label=\"실행 단계\" className=\"border-t border-[var(--axis-border-default)] divide-y divide-[var(--axis-border-default)]\">\n        {steps.map((step) => {\n          const stepStatusLabel = STATUS_LABELS[step.status] || step.status;\n          return (\n            <div\n              key={step.id}\n              role=\"listitem\"\n              aria-current={step.status === \"running\" ? \"step\" : undefined}\n              className=\"flex items-start gap-3 px-4 py-2.5\"\n            >\n              <span aria-hidden=\"true\" className=\"mt-0.5 flex-shrink-0\">\n                {stepStatusIcons[step.status]}\n              </span>\n              <div className=\"flex-1 min-w-0\">\n                <span className=\"sr-only\">{stepStatusLabel}:</span>\n                <p className=\"text-sm text-[var(--axis-text-primary)]\">{step.label}</p>\n                {step.description && (\n                  <p className=\"text-xs text-[var(--axis-text-secondary)] mt-0.5\">{step.description}</p>\n                )}\n              </div>\n            </div>\n          );\n        })}\n      </div>\n\n      {/* 액션 버튼 */}\n      {(status === \"pending\" || status === \"draft\") && (onApprove || onEdit || onReject) && (\n        <div className=\"flex gap-2 p-3 border-t border-[var(--axis-border-default)] bg-[var(--axis-surface-secondary)]\">\n          {onApprove && (\n            <button\n              onClick={onApprove}\n              className=\"px-3 py-1.5 text-xs font-medium rounded-md bg-[var(--axis-color-green-500)] text-white hover:bg-[var(--axis-color-green-600)] transition-colors\"\n            >\n              승인\n            </button>\n          )}\n          {onEdit && (\n            <button\n              onClick={onEdit}\n              className=\"px-3 py-1.5 text-xs font-medium rounded-md bg-[var(--axis-button-secondary-bg-default)] text-[var(--axis-text-primary)] hover:bg-[var(--axis-button-secondary-bg-hover)] transition-colors\"\n            >\n              수정\n            </button>\n          )}\n          {onReject && (\n            <button\n              onClick={onReject}\n              className=\"px-3 py-1.5 text-xs font-medium rounded-md text-[var(--axis-color-red-500)] hover:bg-[var(--axis-color-red-500)]/10 transition-colors\"\n            >\n              거절\n            </button>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n"
    }
  ]
}