{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "agentic-code-block",
  "type": "registry:ui",
  "title": "Code Block",
  "description": "코드 표시 + 복사 버튼 컴포넌트",
  "dependencies": [],
  "registryDependencies": [],
  "files": [
    {
      "path": "components/agentic/code-block.tsx",
      "type": "registry:ui",
      "content": "import * as React from \"react\";\nimport { cn } from \"@axis-ds/ui-react\";\n\nexport interface CodeBlockProps {\n  /** 코드 문자열 */\n  code: string;\n  /** 언어 (구문 강조용 힌트) */\n  language?: string;\n  /** 파일명 */\n  filename?: string;\n  /** 줄 번호 표시 */\n  showLineNumbers?: boolean;\n  /** 복사 완료 콜백 */\n  onCopy?: (code: string) => void;\n  /** 최대 높이 (스크롤) */\n  maxHeight?: string;\n  /** 추가 클래스 */\n  className?: string;\n}\n\n/**\n * 코드 표시 + 복사 버튼 컴포넌트\n */\nexport function CodeBlock({\n  code,\n  language,\n  filename,\n  showLineNumbers = false,\n  onCopy,\n  maxHeight,\n  className,\n}: CodeBlockProps) {\n  const [copied, setCopied] = React.useState(false);\n\n  const handleCopy = async () => {\n    try {\n      await navigator.clipboard.writeText(code);\n      setCopied(true);\n      onCopy?.(code);\n      setTimeout(() => setCopied(false), 2000);\n    } catch {\n      // clipboard API 미지원 시 fallback 없음\n    }\n  };\n\n  const lines = code.split(\"\\n\");\n\n  return (\n    <div\n      className={cn(\n        \"rounded-lg border overflow-hidden\",\n        \"bg-[var(--axis-surface-default)] border-[var(--axis-border-default)]\",\n        className\n      )}\n    >\n      {/* 헤더 */}\n      <div className=\"flex items-center justify-between px-3 py-2 border-b border-[var(--axis-border-default)] bg-[var(--axis-surface-secondary)]\">\n        <div className=\"flex items-center gap-2 min-w-0\">\n          {filename && (\n            <code className=\"text-xs font-mono text-[var(--axis-text-primary)] truncate\">\n              {filename}\n            </code>\n          )}\n          {language && (\n            <span className=\"text-xs px-1.5 py-0.5 rounded bg-[var(--axis-surface-tertiary)] text-[var(--axis-text-tertiary)]\">\n              {language}\n            </span>\n          )}\n        </div>\n        <button\n          onClick={handleCopy}\n          aria-label={copied ? \"복사됨\" : \"코드 복사\"}\n          className=\"flex items-center gap-1 px-2 py-1 text-xs rounded-md text-[var(--axis-text-secondary)] hover:bg-[var(--axis-surface-tertiary)] transition-colors\"\n        >\n          {copied ? (\n            <>\n              <svg className=\"w-3.5 h-3.5 text-[var(--axis-color-green-500)]\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n              </svg>\n              <span>복사됨</span>\n            </>\n          ) : (\n            <>\n              <svg className=\"w-3.5 h-3.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\" />\n              </svg>\n              <span>복사</span>\n            </>\n          )}\n        </button>\n      </div>\n\n      {/* 코드 본문 */}\n      <div\n        className=\"overflow-auto\"\n        style={maxHeight ? { maxHeight } : undefined}\n      >\n        <pre className=\"p-3 text-sm leading-relaxed\">\n          <code className=\"text-[var(--axis-text-primary)] font-mono\">\n            {showLineNumbers ? (\n              <table className=\"border-collapse w-full\" role=\"presentation\">\n                <tbody>\n                  {lines.map((line, i) => (\n                    <tr key={i}>\n                      <td\n                        className=\"select-none text-right pr-4 text-[var(--axis-text-tertiary)] w-8\"\n                        aria-hidden=\"true\"\n                      >\n                        {i + 1}\n                      </td>\n                      <td className=\"whitespace-pre\">{line}</td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            ) : (\n              code\n            )}\n          </code>\n        </pre>\n      </div>\n    </div>\n  );\n}\n"
    }
  ]
}