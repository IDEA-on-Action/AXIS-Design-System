{
  "id": "axis-collector-health-bar",
  "slug": "collector-health-bar",
  "name": "Collector Health Bar",
  "description": "AXIS Collector Health Bar component",
  "category": "agentic",
  "source": {
    "type": "axis",
    "registry": "@axis",
    "url": "https://axis.minu.best/agentic/collector-health-bar"
  },
  "tags": [
    "stateful"
  ],
  "code": {
    "files": [
      {
        "path": "page.tsx",
        "content": "'use client'\n\nimport { CollectorHealthBar } from '@ax/ui'\nimport { CodeBlock } from '@/components/code-block'\nimport { PropsTable } from '@/components/props-table'\nimport Link from 'next/link'\nimport { useState } from 'react'\n\nconst collectorHealthBarProps = [\n  { name: 'data', type: 'HealthCheckData | null', default: '-', description: '헬스체크 데이터', required: true },\n  { name: 'isLoading', type: 'boolean', default: 'false', description: '로딩 상태' },\n  { name: 'onRefresh', type: '() => void', default: '-', description: '새로고침 핸들러' },\n  { name: 'className', type: 'string', default: '-', description: '추가 CSS 클래스' },\n]\n\nconst healthCheckDataProps = [\n  { name: 'checked_at', type: 'string', default: '-', description: '확인 시각 (ISO 8601)', required: true },\n  { name: 'results', type: 'CollectorHealthResult[]', default: '-', description: '수집기별 결과', required: true },\n  { name: 'summary', type: 'object', default: '-', description: '요약 정보 (total, healthy, degraded, unhealthy)', required: true },\n]\n\nconst collectorHealthResultProps = [\n  { name: 'collector_name', type: 'string', default: '-', description: '수집기 이름', required: true },\n  { name: 'status', type: '\"healthy\" | \"degraded\" | \"unhealthy\"', default: '-', description: '상태', required: true },\n  { name: 'checked_at', type: 'string', default: '-', description: '확인 시각', required: true },\n  { name: 'sample_count', type: 'number', default: '-', description: '수집된 샘플 수', required: true },\n  { name: 'error_message', type: 'string | null', default: 'null', description: '오류 메시지' },\n  { name: 'response_time_ms', type: 'number | null', default: 'null', description: '응답 시간 (ms)' },\n]\n\nconst basicExample = `import { CollectorHealthBar } from '@ax/ui'\n\nconst healthData = {\n  checked_at: '2024-03-15T10:30:00Z',\n  results: [\n    { collector_name: 'onoffmix', status: 'healthy', checked_at: '...', sample_count: 45, error_message: null, response_time_ms: 120 },\n    { collector_name: 'eventus', status: 'healthy', checked_at: '...', sample_count: 32, error_message: null, response_time_ms: 85 },\n    { collector_name: 'festa', status: 'degraded', checked_at: '...', sample_count: 12, error_message: '일부 데이터 누락', response_time_ms: 340 },\n  ],\n  summary: { total: 3, healthy: 2, degraded: 1, unhealthy: 0 }\n}\n\nexport function Example() {\n  return (\n    <CollectorHealthBar\n      data={healthData}\n      onRefresh={() => console.log('새로고침')}\n    />\n  )\n}`\n\nconst healthyData = {\n  checked_at: new Date().toISOString(),\n  results: [\n    { collector_name: 'onoffmix', status: 'healthy' as const, checked_at: new Date().toISOString(), sample_count: 45, error_message: null, response_time_ms: 120 },\n    { collector_name: 'eventus', status: 'healthy' as const, checked_at: new Date().toISOString(), sample_count: 32, error_message: null, response_time_ms: 85 },\n    { collector_name: 'festa', status: 'healthy' as const, checked_at: new Date().toISOString(), sample_count: 28, error_message: null, response_time_ms: 95 },\n  ],\n  summary: { total: 3, healthy: 3, degraded: 0, unhealthy: 0 }\n}\n\nconst degradedData = {\n  checked_at: new Date().toISOString(),\n  results: [\n    { collector_name: 'onoffmix', status: 'healthy' as const, checked_at: new Date().toISOString(), sample_count: 45, error_message: null, response_time_ms: 120 },\n    { collector_name: 'eventus', status: 'degraded' as const, checked_at: new Date().toISOString(), sample_count: 12, error_message: '응답 지연 발생', response_time_ms: 850 },\n    { collector_name: 'festa', status: 'healthy' as const, checked_at: new Date().toISOString(), sample_count: 28, error_message: null, response_time_ms: 95 },\n  ],\n  summary: { total: 3, healthy: 2, degraded: 1, unhealthy: 0 }\n}\n\nconst unhealthyData = {\n  checked_at: new Date().toISOString(),\n  results: [\n    { collector_name: 'onoffmix', status: 'healthy' as const, checked_at: new Date().toISOString(), sample_count: 45, error_message: null, response_time_ms: 120 },\n    { collector_name: 'eventus', status: 'unhealthy' as const, checked_at: new Date().toISOString(), sample_count: 0, error_message: '연결 실패: ECONNREFUSED', response_time_ms: null },\n    { collector_name: 'festa', status: 'degraded' as const, checked_at: new Date().toISOString(), sample_count: 8, error_message: '일부 데이터 누락', response_time_ms: 450 },\n  ],\n  summary: { total: 3, healthy: 1, degraded: 1, unhealthy: 1 }\n}\n\nexport default function CollectorHealthBarPage() {\n  const [isLoading, setIsLoading] = useState(false)\n\n  const handleRefresh = () => {\n    setIsLoading(true)\n    setTimeout(() => setIsLoading(false), 1500)\n  }\n\n  return (\n    <div className=\"container py-12\">\n      <div className=\"max-w-4xl\">\n        <div className=\"mb-8\">\n          <div className=\"flex items-center gap-2 text-sm text-muted-foreground mb-2\">\n            <Link href=\"/agentic\" className=\"hover:text-foreground\">Agentic UI</Link>\n            <span>/</span>\n            <span>CollectorHealthBar</span>\n          </div>\n          <h1 className=\"text-4xl font-bold tracking-tight mb-4\">CollectorHealthBar</h1>\n          <p className=\"text-lg text-muted-foreground\">\n            데이터 수집기의 상태를 한눈에 보여주는 헬스바 컴포넌트입니다.\n            각 수집기의 정상/저하/오류 상태를 실시간으로 모니터링합니다.\n          </p>\n        </div>\n\n        <section className=\"mb-12\">\n          <h2 className=\"text-2xl font-semibold mb-4\">Installation</h2>\n          <CodeBlock code=\"npx axis-cli add collector-health-bar\" language=\"bash\" />\n        </section>\n\n        <section className=\"mb-12\">\n          <h2 className=\"text-2xl font-semibold mb-4\">Usage</h2>\n          <div className=\"mb-4 p-6 rounded-lg border bg-muted/30\">\n            <CollectorHealthBar\n              data={healthyData}\n              isLoading={isLoading}\n              onRefresh={handleRefresh}\n            />\n          </div>\n          <CodeBlock code={basicExample} />\n        </section>\n\n        <section className=\"mb-12\">\n          <h2 className=\"text-2xl font-semibold mb-4\">Status Variants</h2>\n          <div className=\"space-y-4\">\n            <div className=\"rounded-lg border p-4\">\n              <p className=\"text-sm font-medium mb-3\">Healthy (모든 수집기 정상)</p>\n              <CollectorHealthBar data={healthyData} />\n            </div>\n            <div className=\"rounded-lg border p-4\">\n              <p className=\"text-sm font-medium mb-3\">Degraded (일부 저하)</p>\n              <CollectorHealthBar data={degradedData} />\n            </div>\n            <div className=\"rounded-lg border p-4\">\n              <p className=\"text-sm font-medium mb-3\">Unhealthy (오류 발생)</p>\n              <CollectorHealthBar data={unhealthyData} />\n            </div>\n          </div>\n        </section>\n\n        <section className=\"mb-12\">\n          <h2 className=\"text-2xl font-semibold mb-4\">Loading State</h2>\n          <div className=\"mb-4 p-6 rounded-lg border bg-muted/30\">\n            <CollectorHealthBar\n              data={null}\n              isLoading={true}\n            />\n          </div>\n        </section>\n\n        <section className=\"mb-12\">\n          <h2 className=\"text-2xl font-semibold mb-4\">Props</h2>\n          <PropsTable props={collectorHealthBarProps} />\n        </section>\n\n        <section className=\"mb-12\">\n          <h2 className=\"text-2xl font-semibold mb-4\">HealthCheckData Interface</h2>\n          <PropsTable props={healthCheckDataProps} />\n        </section>\n\n        <section className=\"mb-12\">\n          <h2 className=\"text-2xl font-semibold mb-4\">CollectorHealthResult Interface</h2>\n          <PropsTable props={collectorHealthResultProps} />\n        </section>\n\n        <section className=\"mb-12\">\n          <h2 className=\"text-2xl font-semibold mb-4\">HealthStatus Type</h2>\n          <CodeBlock code={`type HealthStatus = 'healthy' | 'degraded' | 'unhealthy'`} />\n        </section>\n      </div>\n    </div>\n  )\n}\n",
        "type": "component"
      }
    ],
    "dependencies": [
      "@ax/ui",
      "next"
    ],
    "devDependencies": [],
    "registryDeps": []
  },
  "status": "active",
  "updatedAt": "2026-01-23T12:59:43.855Z"
}