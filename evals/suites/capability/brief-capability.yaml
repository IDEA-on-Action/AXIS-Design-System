# Brief 생성 역량 테스트 Suite
# 목적: Brief Writer 에이전트의 품질 향상 추적

suite:
  id: brief_capability
  name: "Brief 생성 역량 테스트"
  description: "Brief Writer 에이전트의 품질, 정확도, 완성도를 측정하는 역량 평가 스위트"
  version: "1.0.0"
  purpose: capability
  domain: brief_generation
  owner_team: ax-bd-team

  tasks:
    - path: "evals/tasks/workflow/wf02-brief-generation.yaml"
      enabled: true

    # 다양한 시나리오 테스트
    # - path: "evals/tasks/workflow/brief-manufacturing.yaml"
    # - path: "evals/tasks/workflow/brief-finance.yaml"
    # - path: "evals/tasks/workflow/brief-healthcare.yaml"
    # - path: "evals/tasks/workflow/brief-minimal-info.yaml"  # 정보 부족 상황
    # - path: "evals/tasks/workflow/brief-competing-signals.yaml"  # 경쟁 Signal

  defaults:
    trials:
      k: 5  # 역량 측정은 더 많은 트라이얼
      parallel: true
    environment:
      sandbox: container
      image: "ax-evals-base:1.0"
      reset: clean
    agent:
      adapter: ax_agent_sdk
      agent_id: brief_writer
      model: claude-sonnet-4-20250514
      max_turns: 25
    timeout:
      total_seconds: 300
    cost_budget:
      max_tokens: 100000
      max_usd: 1.0

  schedule:
    enabled: true
    on_commit: false
    on_pr: false  # 역량 테스트는 PR마다 실행 안함
    branches:
      - main
    cron: "0 2 * * 0"  # 매주 일요일 새벽 2시 (야간 배치)

  gates:
    enabled: false  # 역량 테스트는 게이트로 사용 안함
    blocking: false

  notifications:
    on_failure:
      enabled: true
      channels:
        - type: slack
          target: "#ax-bd-evals"
    on_saturation:
      enabled: true
      threshold: 0.95  # 95% 이상이면 포화 경고
      channels:
        - type: slack
          target: "#ax-bd-evals"
    daily_digest:
      enabled: false

  tags:
    - capability
    - brief
    - weekly
