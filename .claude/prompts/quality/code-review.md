---
name: code-review
category: quality
description: 범용 코드 리뷰 체크리스트 및 출력 템플릿
variables:
  - name: "{{TARGET_FILES}}"
    description: 리뷰 대상 파일 또는 경로
    example: src/components/button.tsx
  - name: "{{REVIEW_SCOPE}}"
    description: 리뷰 범위 (file, pr, component)
    example: component
  - name: "{{FOCUS_AREAS}}"
    description: 중점 검토 영역 (쉼표 구분)
    example: 성능, 접근성
    required: false
---

# 코드 리뷰 가이드

## 목표

{{TARGET_FILES}}에 대한 체계적인 코드 리뷰를 수행하여 품질을 보장합니다.

## 입력 정보

| 변수 | 설명 | 필수 | 예시 |
|------|------|------|------|
| `{{TARGET_FILES}}` | 리뷰 대상 | Y | src/components/button.tsx |
| `{{REVIEW_SCOPE}}` | 리뷰 범위 | N | component |
| `{{FOCUS_AREAS}}` | 중점 영역 | N | 성능, 접근성 |

## 수행 단계

### 단계 1: 코드 읽기

1. 전체 변경사항 파악
2. 변경 의도 이해
3. 영향 범위 확인

### 단계 2: 체크리스트 검토

아래 영역별 체크리스트를 순차적으로 검토합니다.

### 단계 3: 이슈 문서화

발견된 이슈를 심각도와 함께 기록합니다.

### 단계 4: 피드백 작성

건설적이고 구체적인 피드백을 작성합니다.

## 리뷰 체크리스트

### 1. 코드 품질

- [ ] 일관된 코딩 스타일
- [ ] 명확하고 의미 있는 네이밍
- [ ] 적절한 추상화 수준
- [ ] 중복 코드 없음
- [ ] 단일 책임 원칙 준수
- [ ] 불필요한 복잡성 없음

### 2. 타입 안전성

- [ ] 엄격한 타입 정의
- [ ] any 타입 최소화
- [ ] 제네릭 적절히 활용
- [ ] null/undefined 안전하게 처리
- [ ] 타입 추론 활용

### 3. 에러 처리

- [ ] 예외 상황 처리
- [ ] 사용자 친화적 에러 메시지
- [ ] 에러 복구 전략
- [ ] 로깅 적절성

### 4. 성능

- [ ] 불필요한 연산 없음
- [ ] 메모리 누수 가능성 없음
- [ ] 비동기 처리 적절함
- [ ] 캐싱 전략 적용 (해당 시)

### 5. 보안

- [ ] 입력값 검증
- [ ] XSS 방지
- [ ] 민감 정보 노출 없음
- [ ] 인증/인가 적절함 (해당 시)

### 6. 접근성

- [ ] ARIA 속성 적용
- [ ] 키보드 네비게이션
- [ ] 색상 대비 충분
- [ ] 포커스 관리

### 7. 테스트

- [ ] 테스트 커버리지 충분
- [ ] 엣지 케이스 처리
- [ ] 테스트 가독성

### 8. 문서화

- [ ] 복잡한 로직 주석
- [ ] 공개 API 문서화
- [ ] README 업데이트 (해당 시)

## 출력 형식

```markdown
## 코드 리뷰 결과

**대상**: {{TARGET_FILES}}
**리뷰어**: {{REVIEWER}}
**일시**: YYYY-MM-DD

### 요약

| 항목 | 값 |
|------|-----|
| 전체 점수 | X/10 |
| 심각 이슈 | N개 |
| 주요 이슈 | N개 |
| 경미한 이슈 | N개 |
| 제안 사항 | N개 |

### 이슈

#### [🔴 Critical] 이슈 제목

**파일**: path/to/file.tsx:라인번호
**WCAG/규칙**: 해당 시 표기

**문제**:
이슈 상세 설명

**해결책**:
권장 수정 방법

```diff
- 문제가 있는 코드
+ 권장 코드
```

#### [🟠 Major] 이슈 제목

**파일**: path/to/file.tsx:라인번호

**문제**:
이슈 상세 설명

**해결책**:
권장 수정 방법

### 제안 사항

1. **제안 제목**
   - 현재: 현재 상태
   - 제안: 개선 방안
   - 이유: 개선 이유

### 잘된 점

- 긍정적인 부분 1
- 긍정적인 부분 2

### 결론

[전체 평가 및 승인 여부]

- [ ] 승인
- [ ] 수정 후 재검토 필요
- [ ] 반려
```

## 심각도 레벨

| 레벨 | 아이콘 | 설명 | 조치 |
|------|--------|------|------|
| Critical | 🔴 | 보안/기능 심각한 문제 | 즉시 수정 필수 |
| Major | 🟠 | 중요한 개선 필요 | 머지 전 수정 권장 |
| Minor | 🟡 | 사소한 개선 사항 | 수정 권장 |
| Info | 🔵 | 참고/제안 사항 | 선택적 |

## 검증 방법

- [ ] 모든 체크리스트 항목이 검토되었는가?
- [ ] 각 이슈에 구체적인 해결책이 있는가?
- [ ] 심각도가 적절하게 분류되었는가?
- [ ] 피드백이 건설적인가?

## 자동화 검사

리뷰 전 자동화 도구 실행을 권장합니다:

```bash
# 린트 검사
{{LINT_COMMAND}}

# 타입 검사
{{TYPE_CHECK_COMMAND}}

# 테스트 실행
{{TEST_COMMAND}}
```

## 리뷰 원칙

1. **구체적으로**: "이 부분이 좋지 않다" ❌ → "X 때문에 Y 문제가 발생할 수 있다" ✅
2. **건설적으로**: 문제 지적 + 해결책 제안
3. **질문하기**: 확실하지 않으면 의도를 질문
4. **긍정도 언급**: 잘된 부분도 인정
5. **학습 기회**: 새로운 기법/패턴 공유
