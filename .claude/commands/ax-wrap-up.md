# ax-wrap-up

현재 세션에서 수행한 작업을 정리하고 요약합니다.

## 수행 작업

### 1. 변경사항 수집
```bash
git status
git diff --stat
```

### 2. 최근 커밋 확인 (이번 세션)
```bash
git log --oneline -10
```

## 출력 형식

```
## 세션 요약

### 수행한 작업
1. [작업 1 설명]
2. [작업 2 설명]
...

### 변경된 파일
| 파일 | 변경 유형 | 설명 |
|------|-----------|------|
| path/to/file.ts | 수정 | [변경 내용] |
| path/to/new.ts | 생성 | [파일 목적] |

### 커밋 내역
- [commit hash] [커밋 메시지]
- ...

### 미완료 작업
- [ ] [남은 작업 1]
- [ ] [남은 작업 2]

### 다음 단계 권장사항
1. [권장 작업 1]
2. [권장 작업 2]

### 주의사항
- [있다면 작성]

---
세션 종료: [현재 시간 KST]
```

## 옵션

| 인자 | 설명 |
|------|------|
| (없음) | 기본 요약 |
| `commit` | 미커밋 변경사항을 커밋 제안 |
| `detailed` | 상세 diff 포함 |

### commit 모드

미커밋 변경사항이 있으면 커밋 메시지 제안:
```
### 커밋 제안

다음 변경사항을 커밋할 수 있습니다:

[파일 목록]

제안 커밋 메시지:
feat(컴포넌트): 새로운 기능 추가

커밋하시겠습니까?
```

### detailed 모드

각 파일의 상세 변경 내용 포함:
```
### 상세 변경 내역

#### path/to/file.ts
- 추가된 라인: +XX
- 삭제된 라인: -XX
- 주요 변경: [설명]
```

## 사용 시점

- 작업 세션 종료 시
- 다른 작업으로 전환 전
- 진행 상황 공유 필요 시
- 커밋 전 변경사항 리뷰 시

---

## 6. 현행화 단계 (필수)

세션 종료 전 반드시 아래 현행화를 수행합니다.

### 6.1 project-todo.md 업데이트

1. 완료된 작업 항목의 상태를 🔄 → ✅ 로 변경
2. 완료일 기록 (YYYY-MM-DD 형식)
3. Phase 진행률 재계산

```markdown
# 예시
| 항목 | WI ID | 상태 | 완료일 |
|------|-------|------|--------|
| Button 구현 | WI-0001 | ✅ | 2025-01-26 |
```

### 6.2 WI 산출물 체크

관련 WI가 있는 경우:

1. `docs/workitems/<WI_ID>/` 경로 확인
2. todo.md 체크리스트 상태 검토
3. 미완료 항목이 있으면 경고 출력:

```
⚠️ WI-0001 미완료 항목:
- [ ] 접근성 테스트
- [ ] 스토리북 문서화
```

### 6.3 커밋 메시지 제안

WI 작업인 경우 커밋 메시지에 참조 포함:

```
feat(button): 버튼 컴포넌트 구현

- 기본 스타일 추가
- 접근성 지원

Refs: WI-0001
```

### 6.4 현행화 체크리스트

```
### 현행화 확인
- [ ] project-todo.md 상태 업데이트
- [ ] WI todo.md 체크 동기화
- [ ] 커밋 메시지에 WI 참조 포함
```

---

## 7. 프롬프트 자동 감지 (선택)

세션에서 재사용 가능한 프롬프트 후보를 탐지합니다.

### 7.1 감지 실행

세션 종료 시 자동으로 프롬프트 후보를 분석합니다:

```
### 프롬프트 후보 감지

이번 세션에서 재사용 가능한 프롬프트가 감지되었습니다:

| # | 내용 요약 | 점수 | 카테고리 (추천) |
|---|-----------|------|-----------------|
| 1 | [요약] | 85점 | planning |

저장하시겠습니까? (/ax-prompt save)
```

### 7.2 판별 기준

| 항목 | 배점 | 설명 |
|------|------|------|
| 반복성 | 25점 | 구조화된 패턴 존재 |
| 범용성 | 30점 | 프로젝트 종속성 낮음 |
| 독립성 | 25점 | 컨텍스트 없이 동작 가능 |
| 명확성 | 20점 | 목표/절차 명확 |

**후보 기준**: 70점 이상

### 7.3 저장 옵션

```bash
# 즉시 저장
/ax-prompt save --name=my-prompt --category=planning

# 정제 후 저장
/ax-prompt refine
/ax-prompt save
```

### 7.4 통합 체크리스트

```
### 프롬프트 확인
- [ ] 재사용 후보 검토
- [ ] 필요 시 저장 (/ax-prompt save)
```
