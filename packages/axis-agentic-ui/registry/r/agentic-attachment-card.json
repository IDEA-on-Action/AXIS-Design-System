{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "agentic-attachment-card",
  "type": "registry:ui",
  "title": "Attachment Card",
  "description": "파일/이미지 첨부 표시 카드 컴포넌트",
  "dependencies": [],
  "registryDependencies": [],
  "files": [
    {
      "path": "components/agentic/attachment-card.tsx",
      "type": "registry:ui",
      "content": "import * as React from \"react\";\nimport { cn } from \"@axis-ds/ui-react\";\nimport { ATTACHMENT_TYPE_LABELS } from \"../constants/a11y-labels\";\n\nexport type AttachmentType = \"image\" | \"document\" | \"code\" | \"archive\" | \"other\";\nexport type AttachmentStatus = \"uploading\" | \"complete\" | \"error\";\n\nexport interface AttachmentCardProps {\n  /** 파일 타입 */\n  type: AttachmentType;\n  /** 파일명 */\n  name: string;\n  /** 파일 크기 (bytes) */\n  size?: number;\n  /** 파일 URL */\n  url?: string;\n  /** 썸네일 URL (이미지인 경우) */\n  thumbnail?: string;\n  /** 업로드 상태 */\n  status?: AttachmentStatus;\n  /** 업로드 진행률 (0-100) */\n  progress?: number;\n  /** 삭제 콜백 */\n  onRemove?: () => void;\n  /** 추가 클래스 */\n  className?: string;\n}\n\nconst typeIcons: Record<AttachmentType, React.ReactNode> = {\n  image: (\n    <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n    </svg>\n  ),\n  document: (\n    <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n    </svg>\n  ),\n  code: (\n    <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4\" />\n    </svg>\n  ),\n  archive: (\n    <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4\" />\n    </svg>\n  ),\n  other: (\n    <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z\" />\n    </svg>\n  ),\n};\n\nconst formatFileSize = (bytes: number): string => {\n  if (bytes < 1024) return `${bytes} B`;\n  if (bytes < 1024 * 1024) return `${(bytes / 1024).toFixed(1)} KB`;\n  return `${(bytes / (1024 * 1024)).toFixed(1)} MB`;\n};\n\n/**\n * 파일/이미지 첨부를 표시하는 카드 컴포넌트\n */\nexport function AttachmentCard({\n  type,\n  name,\n  size,\n  url,\n  thumbnail,\n  status = \"complete\",\n  progress,\n  onRemove,\n  className,\n}: AttachmentCardProps) {\n  const typeLabel = ATTACHMENT_TYPE_LABELS[type];\n\n  return (\n    <div\n      role=\"article\"\n      aria-label={`${typeLabel}: ${name}`}\n      className={cn(\n        \"flex items-center gap-3 rounded-lg border p-3\",\n        \"bg-[var(--axis-surface-default)] border-[var(--axis-border-default)]\",\n        status === \"error\" && \"border-[var(--axis-color-red-500)]/30\",\n        className\n      )}\n    >\n      {/* 썸네일 또는 아이콘 */}\n      {thumbnail ? (\n        <img\n          src={thumbnail}\n          alt=\"\"\n          aria-hidden=\"true\"\n          className=\"w-10 h-10 rounded object-cover flex-shrink-0\"\n        />\n      ) : (\n        <div\n          className=\"w-10 h-10 rounded flex items-center justify-center flex-shrink-0 bg-[var(--axis-surface-secondary)] text-[var(--axis-icon-secondary)]\"\n          aria-hidden=\"true\"\n        >\n          {typeIcons[type]}\n        </div>\n      )}\n\n      {/* 정보 */}\n      <div className=\"flex-1 min-w-0\">\n        <p className=\"text-sm font-medium text-[var(--axis-text-primary)] truncate\">\n          {url ? (\n            <a\n              href={url}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"hover:underline\"\n              aria-label={`${name} (새 창에서 열림)`}\n            >\n              {name}\n            </a>\n          ) : (\n            name\n          )}\n        </p>\n        <div className=\"flex items-center gap-2 text-xs text-[var(--axis-text-tertiary)]\">\n          <span>{typeLabel}</span>\n          {size !== undefined && (\n            <>\n              <span aria-hidden=\"true\">·</span>\n              <span>{formatFileSize(size)}</span>\n            </>\n          )}\n          {status === \"error\" && (\n            <span className=\"text-[var(--axis-text-error)]\">업로드 실패</span>\n          )}\n        </div>\n\n        {/* 업로드 진행률 */}\n        {status === \"uploading\" && progress !== undefined && (\n          <div className=\"mt-1.5 h-1 rounded-full bg-[var(--axis-surface-secondary)] overflow-hidden\">\n            <div\n              className=\"h-full rounded-full bg-[var(--axis-color-blue-500)] transition-all\"\n              style={{ width: `${progress}%` }}\n              role=\"progressbar\"\n              aria-valuenow={progress}\n              aria-valuemin={0}\n              aria-valuemax={100}\n              aria-label=\"업로드 진행률\"\n            />\n          </div>\n        )}\n      </div>\n\n      {/* 삭제 버튼 */}\n      {onRemove && (\n        <button\n          onClick={onRemove}\n          aria-label={`${name} 삭제`}\n          className=\"flex-shrink-0 p-1 rounded-md text-[var(--axis-text-tertiary)] hover:text-[var(--axis-text-secondary)] hover:bg-[var(--axis-surface-secondary)] transition-colors\"\n        >\n          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n          </svg>\n        </button>\n      )}\n    </div>\n  );\n}\n"
    }
  ]
}